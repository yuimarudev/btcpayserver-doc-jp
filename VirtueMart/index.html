<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Joomla VirtueMart 統合 | BTCPay Server</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="stylesheet" href="/styles/btcpayserver-variables.css">
    <meta name="description" content="BTCPay Server を Joomla VirtueMart ストアに統合する方法">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    
    <link rel="preload" href="/assets/css/0.styles.5d7f2299.css" as="style"><link rel="preload" href="/assets/js/app.41d43a50.js" as="script"><link rel="preload" href="/assets/js/2.d89b9797.js" as="script"><link rel="preload" href="/assets/js/16.25059ae3.js" as="script"><link rel="prefetch" href="/assets/js/1.6a40f62e.js"><link rel="prefetch" href="/assets/js/100.ca4cc1f9.js"><link rel="prefetch" href="/assets/js/101.50420f65.js"><link rel="prefetch" href="/assets/js/102.147b17f9.js"><link rel="prefetch" href="/assets/js/103.11ace39f.js"><link rel="prefetch" href="/assets/js/104.8b07fc7a.js"><link rel="prefetch" href="/assets/js/105.e2552678.js"><link rel="prefetch" href="/assets/js/106.4da2526f.js"><link rel="prefetch" href="/assets/js/107.a83f8dca.js"><link rel="prefetch" href="/assets/js/108.112074ca.js"><link rel="prefetch" href="/assets/js/109.d57342ff.js"><link rel="prefetch" href="/assets/js/110.2447313d.js"><link rel="prefetch" href="/assets/js/111.967f5f5b.js"><link rel="prefetch" href="/assets/js/112.4c616b5f.js"><link rel="prefetch" href="/assets/js/113.13543aa2.js"><link rel="prefetch" href="/assets/js/114.84450202.js"><link rel="prefetch" href="/assets/js/115.0c5400eb.js"><link rel="prefetch" href="/assets/js/116.12cd0a77.js"><link rel="prefetch" href="/assets/js/117.79661e15.js"><link rel="prefetch" href="/assets/js/118.3e2367e4.js"><link rel="prefetch" href="/assets/js/119.e974af82.js"><link rel="prefetch" href="/assets/js/12.9066faf5.js"><link rel="prefetch" href="/assets/js/120.fa26fa7d.js"><link rel="prefetch" href="/assets/js/121.266cb757.js"><link rel="prefetch" href="/assets/js/122.fd97cbaf.js"><link rel="prefetch" href="/assets/js/123.8eb917c3.js"><link rel="prefetch" href="/assets/js/124.ad7488ef.js"><link rel="prefetch" href="/assets/js/125.1669308a.js"><link rel="prefetch" href="/assets/js/126.2842d750.js"><link rel="prefetch" href="/assets/js/127.a998232b.js"><link rel="prefetch" href="/assets/js/128.1503aa5d.js"><link rel="prefetch" href="/assets/js/129.b9a346f8.js"><link rel="prefetch" href="/assets/js/13.1ca96bef.js"><link rel="prefetch" href="/assets/js/130.980fd89e.js"><link rel="prefetch" href="/assets/js/131.126d8781.js"><link rel="prefetch" href="/assets/js/132.c1aa6921.js"><link rel="prefetch" href="/assets/js/133.51f50033.js"><link rel="prefetch" href="/assets/js/134.92038745.js"><link rel="prefetch" href="/assets/js/135.801c25aa.js"><link rel="prefetch" href="/assets/js/136.7e4c0fb3.js"><link rel="prefetch" href="/assets/js/137.c84d6de4.js"><link rel="prefetch" href="/assets/js/138.f4d32967.js"><link rel="prefetch" href="/assets/js/139.f57bba53.js"><link rel="prefetch" href="/assets/js/14.b2386b42.js"><link rel="prefetch" href="/assets/js/140.83753326.js"><link rel="prefetch" href="/assets/js/141.20d019fe.js"><link rel="prefetch" href="/assets/js/142.99d96e76.js"><link rel="prefetch" href="/assets/js/143.fed27056.js"><link rel="prefetch" href="/assets/js/144.7b0a11ba.js"><link rel="prefetch" href="/assets/js/145.1180b284.js"><link rel="prefetch" href="/assets/js/146.9cf0e7a1.js"><link rel="prefetch" href="/assets/js/147.1327e83a.js"><link rel="prefetch" href="/assets/js/148.808e1371.js"><link rel="prefetch" href="/assets/js/149.0103ddf3.js"><link rel="prefetch" href="/assets/js/15.be760fe0.js"><link rel="prefetch" href="/assets/js/150.ddf290f4.js"><link rel="prefetch" href="/assets/js/151.c41f3b39.js"><link rel="prefetch" href="/assets/js/152.7231098c.js"><link rel="prefetch" href="/assets/js/153.cd57ef46.js"><link rel="prefetch" href="/assets/js/154.5f3aa682.js"><link rel="prefetch" href="/assets/js/155.3d88dd7d.js"><link rel="prefetch" href="/assets/js/156.9ae1558a.js"><link rel="prefetch" href="/assets/js/157.0df5a481.js"><link rel="prefetch" href="/assets/js/158.8c2cdbb4.js"><link rel="prefetch" href="/assets/js/159.7bf3afb9.js"><link rel="prefetch" href="/assets/js/160.782528d5.js"><link rel="prefetch" href="/assets/js/161.5851ee84.js"><link rel="prefetch" href="/assets/js/162.5b67db91.js"><link rel="prefetch" href="/assets/js/163.bd9d8099.js"><link rel="prefetch" href="/assets/js/164.ee5a5f0f.js"><link rel="prefetch" href="/assets/js/165.01807449.js"><link rel="prefetch" href="/assets/js/166.8b74c99a.js"><link rel="prefetch" href="/assets/js/167.2b9275ec.js"><link rel="prefetch" href="/assets/js/168.266cdade.js"><link rel="prefetch" href="/assets/js/169.9b2d39cf.js"><link rel="prefetch" href="/assets/js/17.d6de4168.js"><link rel="prefetch" href="/assets/js/170.13d94d19.js"><link rel="prefetch" href="/assets/js/171.1297eabe.js"><link rel="prefetch" href="/assets/js/172.f7def8fc.js"><link rel="prefetch" href="/assets/js/173.a2f907c2.js"><link rel="prefetch" href="/assets/js/174.b179db69.js"><link rel="prefetch" href="/assets/js/175.77b58bf0.js"><link rel="prefetch" href="/assets/js/176.53de02a9.js"><link rel="prefetch" href="/assets/js/177.147a784b.js"><link rel="prefetch" href="/assets/js/178.2eab7627.js"><link rel="prefetch" href="/assets/js/179.743de899.js"><link rel="prefetch" href="/assets/js/18.bf7be781.js"><link rel="prefetch" href="/assets/js/180.65eabc1d.js"><link rel="prefetch" href="/assets/js/181.05c37cc7.js"><link rel="prefetch" href="/assets/js/19.8d0bb424.js"><link rel="prefetch" href="/assets/js/20.2b439dba.js"><link rel="prefetch" href="/assets/js/21.b0857fc9.js"><link rel="prefetch" href="/assets/js/22.e160c374.js"><link rel="prefetch" href="/assets/js/23.5a3d1cea.js"><link rel="prefetch" href="/assets/js/24.a911bc55.js"><link rel="prefetch" href="/assets/js/25.f1011e7f.js"><link rel="prefetch" href="/assets/js/26.909e9156.js"><link rel="prefetch" href="/assets/js/27.169f2946.js"><link rel="prefetch" href="/assets/js/28.a28bcef5.js"><link rel="prefetch" href="/assets/js/29.67d4d255.js"><link rel="prefetch" href="/assets/js/3.4421db0f.js"><link rel="prefetch" href="/assets/js/30.920112c6.js"><link rel="prefetch" href="/assets/js/31.a2ce1bf8.js"><link rel="prefetch" href="/assets/js/32.7bd06d89.js"><link rel="prefetch" href="/assets/js/33.8c03ee2c.js"><link rel="prefetch" href="/assets/js/34.f3604d73.js"><link rel="prefetch" href="/assets/js/35.a1c47bcc.js"><link rel="prefetch" href="/assets/js/36.5e9a8a38.js"><link rel="prefetch" href="/assets/js/37.1f423f7f.js"><link rel="prefetch" href="/assets/js/38.bf1dca52.js"><link rel="prefetch" href="/assets/js/39.fe1ae875.js"><link rel="prefetch" href="/assets/js/4.487f4581.js"><link rel="prefetch" href="/assets/js/40.35c40ae6.js"><link rel="prefetch" href="/assets/js/41.b92534c4.js"><link rel="prefetch" href="/assets/js/42.f6b301d5.js"><link rel="prefetch" href="/assets/js/43.78edc318.js"><link rel="prefetch" href="/assets/js/44.aa45aeb3.js"><link rel="prefetch" href="/assets/js/45.d27022b4.js"><link rel="prefetch" href="/assets/js/46.be0190d3.js"><link rel="prefetch" href="/assets/js/47.fdd2f33e.js"><link rel="prefetch" href="/assets/js/48.2c35deb2.js"><link rel="prefetch" href="/assets/js/49.86a31a70.js"><link rel="prefetch" href="/assets/js/5.b571b42d.js"><link rel="prefetch" href="/assets/js/50.8a0855d3.js"><link rel="prefetch" href="/assets/js/51.e363eee4.js"><link rel="prefetch" href="/assets/js/52.3bcdd544.js"><link rel="prefetch" href="/assets/js/53.31fb9c8f.js"><link rel="prefetch" href="/assets/js/54.66970633.js"><link rel="prefetch" href="/assets/js/55.f44b58de.js"><link rel="prefetch" href="/assets/js/56.f13b7920.js"><link rel="prefetch" href="/assets/js/57.ee25fa70.js"><link rel="prefetch" href="/assets/js/58.41179f1d.js"><link rel="prefetch" href="/assets/js/59.6b66e701.js"><link rel="prefetch" href="/assets/js/6.9b4960f6.js"><link rel="prefetch" href="/assets/js/60.1fe3680e.js"><link rel="prefetch" href="/assets/js/61.1146d45b.js"><link rel="prefetch" href="/assets/js/62.3d30c935.js"><link rel="prefetch" href="/assets/js/63.5e61ca29.js"><link rel="prefetch" href="/assets/js/64.0a33316c.js"><link rel="prefetch" href="/assets/js/65.5ae1d398.js"><link rel="prefetch" href="/assets/js/66.3b1f8e2e.js"><link rel="prefetch" href="/assets/js/67.141000a1.js"><link rel="prefetch" href="/assets/js/68.095e54de.js"><link rel="prefetch" href="/assets/js/69.0c792005.js"><link rel="prefetch" href="/assets/js/7.b10858a7.js"><link rel="prefetch" href="/assets/js/70.4ebcf2ad.js"><link rel="prefetch" href="/assets/js/71.02b553f0.js"><link rel="prefetch" href="/assets/js/72.628b592c.js"><link rel="prefetch" href="/assets/js/73.a20763f1.js"><link rel="prefetch" href="/assets/js/74.b8a8bb63.js"><link rel="prefetch" href="/assets/js/75.7334c723.js"><link rel="prefetch" href="/assets/js/76.90c92ba6.js"><link rel="prefetch" href="/assets/js/77.5b927e9b.js"><link rel="prefetch" href="/assets/js/78.98976747.js"><link rel="prefetch" href="/assets/js/79.69be6175.js"><link rel="prefetch" href="/assets/js/8.d887e242.js"><link rel="prefetch" href="/assets/js/80.fcbd3d02.js"><link rel="prefetch" href="/assets/js/81.7c45643d.js"><link rel="prefetch" href="/assets/js/82.9adb1f33.js"><link rel="prefetch" href="/assets/js/83.138bcb7e.js"><link rel="prefetch" href="/assets/js/84.f8c31bb4.js"><link rel="prefetch" href="/assets/js/85.04898a05.js"><link rel="prefetch" href="/assets/js/86.9ae5f263.js"><link rel="prefetch" href="/assets/js/87.d9fb57b7.js"><link rel="prefetch" href="/assets/js/88.f99c22d3.js"><link rel="prefetch" href="/assets/js/89.7ba5b4f9.js"><link rel="prefetch" href="/assets/js/9.db25f738.js"><link rel="prefetch" href="/assets/js/90.e9c848ba.js"><link rel="prefetch" href="/assets/js/91.6701c7fc.js"><link rel="prefetch" href="/assets/js/92.f406f9ed.js"><link rel="prefetch" href="/assets/js/93.1ef3465f.js"><link rel="prefetch" href="/assets/js/94.e932756a.js"><link rel="prefetch" href="/assets/js/95.5f23461b.js"><link rel="prefetch" href="/assets/js/96.3ca29c2e.js"><link rel="prefetch" href="/assets/js/97.30b76563.js"><link rel="prefetch" href="/assets/js/98.49afb185.js"><link rel="prefetch" href="/assets/js/99.11dd3481.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.26b7afdb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5d7f2299.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/btcpay-logo.svg" alt="BTCPay Server" class="logo"> <span class="site-name can-hide">BTCPay Server</span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Guide/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/Deployment/" class="nav-link">
  Deployment
</a></div><div class="nav-item"><a href="/Development/" class="nav-link">
  Developers
</a></div><div class="nav-item"><a href="/Contribute/" class="nav-link">
  Contribute
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link">
  FAQ
</a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide social"><div class="nav-item"><a href="https://btcpayserver.org/" target="_blank" rel="noopener noreferrer website" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.btcpayserver.org/" target="_blank" rel="noopener noreferrer chat" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/btcpayserver/" target="_blank" rel="noopener noreferrer github" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/BtcpayServer" target="_blank" rel="noopener noreferrer twitter" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <button type="button" class="btcpay-theme-switch"><svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path transform="translate(1 1)" d="M2.72 0A3.988 3.988 0 000 3.78c0 2.21 1.79 4 4 4 1.76 0 3.25-1.14 3.78-2.72-.4.13-.83.22-1.28.22-2.21 0-4-1.79-4-4 0-.45.08-.88.22-1.28z" class="btcpay-theme-switch-dark"></path><path transform="translate(1 1)" d="M4 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5S4.28 0 4 0zM1.5 1c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm5 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM4 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM.5 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM1.5 6c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm5 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM4 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5S4.28 7 4 7z" class="btcpay-theme-switch-light"></path></svg></button></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links social"><div class="nav-item"><a href="https://btcpayserver.org/" target="_blank" rel="noopener noreferrer website" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.btcpayserver.org/" target="_blank" rel="noopener noreferrer chat" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/btcpayserver/" target="_blank" rel="noopener noreferrer github" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/BtcpayServer" target="_blank" rel="noopener noreferrer twitter" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <nav class="nav-links"><div class="nav-item"><a href="/Guide/" class="nav-link">
  User Guide
</a></div><div class="nav-item"><a href="/Deployment/" class="nav-link">
  Deployment
</a></div><div class="nav-item"><a href="/Development/" class="nav-link">
  Developers
</a></div><div class="nav-item"><a href="/Contribute/" class="nav-link">
  Contribute
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link">
  FAQ
</a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Learn</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Guide/" class="sidebar-link">Introduction</a></li><li><a href="/TryItOut/" class="sidebar-link">Try it out</a></li><li><a href="/Walkthrough/" class="sidebar-link">Walkthrough</a></li><li><a href="/UseCase/" class="sidebar-link">Use Case</a></li><li><a href="/BTCPayVsOthers/" class="sidebar-link">BTCPay Server vs. Others</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/RegisterAccount/" class="sidebar-link">(1) アカウント登録</a></li><li><a href="/CreateStore/" class="sidebar-link">(2) ストアを作成</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/WalletSetup" class="sidebar-heading clickable"><span>(3) Wallet Setup</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ConnectWallet/" class="sidebar-link">Connect Wallet</a></li><li><a href="/CreateWallet/" class="sidebar-link">Create Wallet</a></li><li><a href="/LightningNetwork/" class="sidebar-link">Lightning Network</a></li></ul></section></li><li><a href="/WhatsNext/" class="sidebar-link">(4) What's Next?</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Features</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Dashboard/" class="sidebar-link">Dashboard</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Wallet" class="sidebar-heading clickable"><span>Wallet</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Invoices/" class="sidebar-link">Invoices</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Subscriptions" class="sidebar-heading clickable"><span>Subscriptions</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Translations/" class="sidebar-link">Translations</a></li><li><a href="/PaymentRequests/" class="sidebar-link">Payment Requests</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/PullPayments" class="sidebar-heading clickable"><span>Pull Payments</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Payouts/" class="sidebar-link">Payouts</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Forms" class="sidebar-heading clickable"><span>Form Builder</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Apps" class="sidebar-heading clickable"><span>Apps</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Reporting/" class="sidebar-link">Reporting</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Payjoin" class="sidebar-heading clickable"><span>Payjoin</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Integrations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/BigCommerce/" class="sidebar-link">Big Commerce</a></li><li><a href="/Calcom/" class="sidebar-link">Cal.com</a></li><li><a href="/Drupal/" class="sidebar-link">Drupal</a></li><li><a href="/EasyDigitalDownloads/" class="sidebar-link">Easy Digital Downloads</a></li><li><a href="/EasyWebshop/" class="sidebar-link">EasyWebshop</a></li><li><a href="/Ecwid/" class="sidebar-link">Ecwid</a></li><li><a href="/GiveWP/" class="sidebar-link">GiveWP</a></li><li><a href="/Grandnode/" class="sidebar-link">Grandnode</a></li><li><a href="/InvoiceNinja/" class="sidebar-link">Invoice Ninja</a></li><li><a href="/Magento/" class="sidebar-link">Magento</a></li><li><a href="/Nopcommerce/" class="sidebar-link">Nopcommerce</a></li><li><a href="/Odoo/" class="sidebar-link">Odoo</a></li><li><a href="/OpenCart/" class="sidebar-link">OpenCart</a></li><li><a href="/PhocaCart/" class="sidebar-link">PhocaCart</a></li><li><a href="/PrestaShop/" class="sidebar-link">PrestaShop</a></li><li><a href="/Pretix/" class="sidebar-link">Pretix</a></li><li><a href="/ShopifyV2/" class="sidebar-link">Shopify V2</a></li><li><a href="/Shopware/" class="sidebar-link">Shopware</a></li><li><a href="/Ghost/" class="sidebar-link">Ghost</a></li><li><a href="/Smartstore/" class="sidebar-link">Smartstore</a></li><li><a href="/VirtueMart/" aria-current="page" class="active sidebar-link">VirtueMart</a></li><li><a href="/Wix/" class="sidebar-link">Wix</a></li><li><a href="/WooCommerce/" class="sidebar-link">WooCommerce</a></li><li><a href="/Xenforo/" class="sidebar-link">Xenforo</a></li><li><a href="/Zapier/" class="sidebar-link">Zapier</a></li><li><a href="/CustomIntegration/" class="sidebar-link">Custom Integration</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Plugins</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="https://dev.blink.sv/examples/btcpayserver-plugin" target="_blank" rel="noopener noreferrer" class="sidebar-link">Blink<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><a href="/Breez/" class="sidebar-link">Breez</a></li><li><a href="/Bringin/" class="sidebar-link">Bringin</a></li><li><a href="/DynamicReports/" class="sidebar-link">Dynamic Reports</a></li><li><a href="/LNDhubAPI/" class="sidebar-link">LNDhub API</a></li><li><a href="/Nostr/" class="sidebar-link">Nostr</a></li><li><a href="/VendorPay/" class="sidebar-link">Vendor Pay</a></li><li><a href="/PodServer/" class="sidebar-link">PodServer</a></li><li><a href="/SideShift/" class="sidebar-link">SideShift</a></li><li><a href="/TicketTailor/" class="sidebar-link">TicketTailor</a></li><li><a href="/Trocador/" class="sidebar-link">Trocador</a></li><li><a href="/Wabisabi/" class="sidebar-link">Wabisabi Coinjoin</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Support and Community</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Troubleshooting/" class="sidebar-link">Troubleshooting an issue</a></li><li><a href="/Support/" class="sidebar-link">Support</a></li><li><a href="/Community/" class="sidebar-link">Community</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="joomla-virtuemart-統合"><a href="#joomla-virtuemart-統合" class="header-anchor">#</a> Joomla VirtueMart 統合</h1> <p>このドキュメントでは、<strong>BTCPay Server を Joomla VirtueMart ストアに統合する方法</strong>を説明します。<br>
ドキュメントに沿って進めるために、以下の動画もご覧ください。</p> <a href="https://youtu.be/k7XfybLAky0" title="BTCPay Server - Joomla VirtueMart" data-id="k7XfybLAky0" class="ytEmbed" style="background-image:url(https://img.youtube.com/vi/k7XfybLAky0/hqdefault.jpg);"><iframe title="BTCPay Server - Joomla VirtueMart" data-src="https://www.youtube-nocookie.com/embed/k7XfybLAky0?&amp;autoplay=1&amp;autohide=1&amp;modestbranding=1&amp;color=white&amp;rel=0" frameborder="0" allow="autoplay;encrypted-media;picture-in-picture" allowfullscreen="allowfullscreen"></iframe></a> <h2 id="要件"><a href="#要件" class="header-anchor">#</a> 要件</h2> <p>このプラグインをインストールする前に、以下の要件を満たしていることを確認してください。</p> <ul><li>PHP バージョン 7.4 以上</li> <li>PHP 拡張の <code>curl</code>、<code>gd</code>、<code>intl</code>、<code>json</code>、<code>mbstring</code> が利用可能</li> <li>VirtueMart 3 / 4 ストア（<a href="https://www.virtuemart.net/downloads" target="_blank" rel="noopener noreferrer">ダウンロードとインストール手順<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）</li> <li>BTCPay Server 1.3.0 以降を利用している（<a href="/Deployment/">セルフホスト</a> または <a href="/Deployment/ThirdPartyHosting/">サードパーティホスティング</a>）</li> <li><a href="/RegisterAccount/">インスタンス上に登録済みアカウントがある</a></li> <li><a href="/CreateStore/">インスタンス上に BTCPay ストアがある</a></li> <li><a href="/WalletSetup/">ストアにウォレットが接続されている</a></li></ul> <h2 id="1-btcpay-プラグインをインストールする"><a href="#1-btcpay-プラグインをインストールする" class="header-anchor">#</a> 1. BTCPay プラグインをインストールする</h2> <p><strong>VirtueMart 用 BTCPay プラグイン</strong>のダウンロード方法は 3 つあります。</p> <ul><li>管理ダッシュボード経由（推奨、以下参照）</li> <li><a href="https://extensions.joomla.org/extension/vm-payment-btcpay-for-virtuemart/" target="_blank" rel="noopener noreferrer">Joomla Extension Directory (JED)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/btcpayserver/joomla-virtuemart/releases" target="_blank" rel="noopener noreferrer">GitHub リポジトリ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="11-joomla-管理ダッシュボードからプラグインをインストールする（推奨）"><a href="#11-joomla-管理ダッシュボードからプラグインをインストールする（推奨）" class="header-anchor">#</a> 1.1 Joomla 管理ダッシュボードからプラグインをインストールする（推奨）</h3> <ol><li>メニュー: Extensions &gt; Manage &gt; Install</li> <li>「Install from Web」タブで「btcpay」を検索</li> <li>BTCPay for VirtueMart をクリックし、[Install] ボタンを押す</li> <li>手順 1.3 に進む</li></ol> <figure><img src="/assets/img/btcpay-vm--01-install-web.4d28e0bd.png" alt="BTCPay Virtuemart: ウェブからのプラグインインストール" title="BTCPay Virtuemart: ウェブからのプラグインインストール"></figure> <h3 id="12-jed-または-github-からプラグインをダウンロードしてインストールする"><a href="#12-jed-または-github-からプラグインをダウンロードしてインストールする" class="header-anchor">#</a> 1.2 JED または GitHub からプラグインをダウンロードしてインストールする</h3> <ol><li>最新の BTCPay プラグインを <a href="https://github.com/btcpayserver/joomla-virtuemart/releases" target="_blank" rel="noopener noreferrer">Github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> または <a href="https://extensions.joomla.org/extension/vm-payment-btcpay-for-virtuemart/" target="_blank" rel="noopener noreferrer">JED<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> からダウンロード</li> <li>メニュー: Extensions -&gt; Manage -&gt; Install</li> <li>「Upload Package File」タブで <code>btcpayvm.zip</code> をアップロード</li></ol> <figure><img src="/assets/img/btcpay-vm--02-install-upload.8972740d.png" alt="BTCPay Virtuemart: アップロードでのプラグインインストール" title="BTCPay Virtuemart: アップロードでのプラグインインストール"></figure> <h3 id="13-プラグインを有効化する"><a href="#13-プラグインを有効化する" class="header-anchor">#</a> 1.3 プラグインを有効化する</h3> <ol><li>メニュー: Extensions -&gt; Plugins</li> <li>「btcpay」を検索</li> <li>「Status」列の赤い丸をクリックしてプラグインを有効化</li></ol> <figure><img src="/assets/img/btcpay-vm--03-enable-plugin.1b4a6c9f.png" alt="BTCPay Virtuemart: プラグインを有効化" title="BTCPay Virtuemart: プラグインを有効化"></figure> <h2 id="2-virtuemart-と-btcpay-server-を接続する"><a href="#2-virtuemart-と-btcpay-server-を接続する" class="header-anchor">#</a> 2. VirtueMart と BTCPay Server を接続する</h2> <p>BTCPay for Virtuemart プラグインは、<strong>BTCPay Server（決済処理）と EC ストアをつなぐブリッジ</strong>です。<br>
セルフホストでもサードパーティ運用でも、接続手順は同じです。</p> <h3 id="21-virtuemart-に-btcpay-決済ゲートウェイを追加する"><a href="#21-virtuemart-に-btcpay-決済ゲートウェイを追加する" class="header-anchor">#</a> 2.1 VirtueMart に BTCPay 決済ゲートウェイを追加する</h3> <ol><li>メニュー: VirtueMart -&gt; Payment Methods</li> <li><strong>[New]</strong> ボタンをクリック<br> <img src="/assets/img/btcpay-vm--04-add-new-payment-method.e5a94ee3.png" alt="BTCPay Virtuemart: 新しい決済方法を追加" title="BTCPay Virtuemart: 新しい決済方法を追加"></li> <li>必要に応じて決済方法を設定します。「Payment Method」ドロップダウンで「BTCPay for VirtueMart」が選択され、決済方法が公開状態であることを確認してください。 <img src="/assets/img/btcpay-vm--05-payment-method-details.adf89c97.png" alt="BTCPay Virtuemart: 決済方法の詳細" title="BTCPay Virtuemart: 決済方法の詳細"></li> <li><strong>[Save]</strong> ボタンをクリック（プラグイン用テーブルが作成されます）</li></ol> <p>これで「Configuration」タブに切り替え、BTCPay Server インスタンスへ接続できます。まず API キーを作成します。</p> <figure><img src="/assets/img/btcpay-vm--06-payment-method-configuration-tab.45617db0.png" alt="BTCPay Virtuemart: 決済方法の設定タブ" title="BTCPay Virtuemart: 決済方法の設定タブ"></figure> <h3 id="22-api-キーを作成して権限を設定する"><a href="#22-api-キーを作成して権限を設定する" class="header-anchor">#</a> 2.2 API キーを作成して権限を設定する</h3> <p><a id="22-create-an-api-key-and-configure-permissions"></a></p> <p>BTCPay Server インスタンス側で:</p> <ol><li><em>[Account]</em> をクリック</li> <li><em>[Manage Account]</em> をクリック<br> <img src="/assets/img/btcpay-vm--07-account-manage.d477b8b4.png" alt="BTCPay Joomla VirtueMart: アカウント管理" title="BTCPay Joomla VirtueMart: アカウント管理"></li> <li><em>&quot;API Keys&quot;</em> タブへ移動</li> <li><em>[Generate Key]</em> をクリックして権限を選択<br> <img src="/assets/img/btcpay-vm--08-add-api-key.a58b2941.png" alt="BTCPay Joomla VirtueMart: API Keys 概要" title="BTCPay Joomla VirtueMart: API Keys 概要"></li> <li>ラベルを追加します。<strong>重要:</strong> 次の権限について <em>&quot;Select specific stores&quot;</em> リンクをクリックしてください: <code>View invoices</code>、<code>Create invoice</code>、<code>Modify invoices</code>、<code>Modify stores webhooks</code>、<code>View your stores</code>。その後、VirtueMart サイト用に作成したストアを選択します。すべて正しく設定できると次のようになります。<br> <img src="/assets/img/btcpay-vm--09-permissions-and-select-store.9ccef388.png" alt="BTCPay Joomla VirtueMart: API Keys の権限" title="BTCPay Joomla VirtueMart: API Keys の権限"></li> <li><em>[Generate API Key]</em> をクリック<br> <img src="/assets/img/btcpay-vm--10-permissions-set.74d76936.png" alt="BTCPay Joomla VirtueMart: API Keys 保存" title="BTCPay Joomla VirtueMart: API Keys 保存"></li> <li>生成された API Key を <em>VirtueMart BTCPay Payment Method Settings</em> フォームへコピー<br> <img src="/assets/img/btcpay-vm--11-copy-api-key.94be9878.png" alt="BTCPay Joomla VirtueMart: API Key をコピー" title="BTCPay Joomla VirtueMart: API Key をコピー"></li> <li>Settings に移動し、Store ID を <em>VirtueMart BTCPay Payment Method Settings</em> フォームへコピー<br> <img src="/assets/img/btcpay-vm--12-copy-store-id.84c19f9f.png" alt="BTCPay Joomla VirtueMart: Store ID をコピー" title="BTCPay Joomla VirtueMart: Store ID をコピー"></li> <li><em>VirtueMart BTCPay Payment Method Settings</em> フォームで <strong>BTPCay Server URL</strong>、<strong>API Key</strong>、<strong>Store ID</strong> が設定されていることを確認し、<strong>[Save]</strong> をクリック<br> <img src="/assets/img/btcpay-vm--13-save-vm-payment-method-form.0a3e52bd.png" alt="BTCPay Joomla VirtueMart: VirtueMart 設定フォームを保存" title="BTCPay Joomla VirtueMart: VirtueMart 設定フォームを保存"></li></ol> <h3 id="23-btcpay-server-に-webhook-を作成する"><a href="#23-btcpay-server-に-webhook-を作成する" class="header-anchor">#</a> 2.3 BTCPay Server に webhook を作成する</h3> <p><a id="23-create-a-webhook-on-btcpay-server"></a></p> <p>webhook を設定すると、BTCPay Server から請求書ステータス変更の更新を受け取れるため重要です。</p> <ol><li><p>BTCPay Server インスタンスでストア設定の <strong>[Webhooks]</strong> タブへ移動し、<strong>[Create Webhook]</strong> をクリック<br> <img src="/assets/img/btcpay-vm--14-create-webhook.1b6e4881.png" alt="BTCPay Joomla VirtueMart: webhook を作成" title="BTCPay Joomla VirtueMart: webhook を作成"></p></li> <li><p><em>VirtueMart BTCPay Payment Method Settings</em> から <strong>Webhook callback URL</strong> をコピーし、webhook 設定の <strong>Payload URL</strong> に貼り付けます。<br> <img src="/assets/img/btcpay-vm--15-webhook-payload-url.37a4f55f.png" alt="BTCPay Joomla VirtueMart: Webhook payload URL" title="BTCPay Joomla VirtueMart: Webhook payload URL"></p></li> <li><p>webhook 設定で目のアイコンをクリックして webhook secret を表示し、その secret を <em>VirtueMart BTCPay Payment Method Settings</em> フォームの <strong>Webhook Secret</strong> 入力欄へコピーして、VirtueMart 設定を再度 <strong>[Save]</strong> します。<br> <img src="/assets/img/btcpay-vm--16-webhook-copy-secret.71b0dd07.png" alt="BTCPay Joomla VirtueMart: Webhook payload URL" title="BTCPay Joomla VirtueMart: Webhook payload URL"> <img src="/assets/img/btcpay-vm--16-virtuemart-configuration-save.ee549862.png" alt="BTCPay Joomla VirtueMart: Webhook VM 設定を保存" title="BTCPay Joomla VirtueMart: Webhook VM 設定を保存"></p></li> <li><p>webhook 設定画面に戻り、<strong>Automatic redelivery</strong> を有効にして <strong>[Add webhook]</strong> をクリックし保存します。<br> <img src="/assets/img/btcpay-vm--17-webhook-save.dfd4fca5.png" alt="BTCPay Joomla VirtueMart: Webhook payload URL" title="BTCPay Joomla VirtueMart: Webhook payload URL"></p></li></ol> <h2 id="3-チェックアウトをテストする"><a href="#3-チェックアウトをテストする" class="header-anchor">#</a> 3. チェックアウトをテストする</h2> <p>これで準備完了です。少額のテスト購入を行い、注文ステータスが BTCPay 請求書ステータスに応じて更新されることを確認してください。BTCPay Server の請求書詳細では、webhook イベントが正常に発火したか確認できます。</p> <h2 id="virtuemart-btcpay-決済方法設定のカスタマイズ"><a href="#virtuemart-btcpay-決済方法設定のカスタマイズ" class="header-anchor">#</a> VirtueMart BTCPay 決済方法設定のカスタマイズ</h2> <p>VirtueMart の BTCPay 決済方法設定は、メニュー <code>VirtueMart -&gt; Payment Methods</code> から確認できます。作成した「btcpayvm」タイプの決済方法をクリックしてください。</p> <h3 id="セクション-btcpay-server-接続設定"><a href="#セクション-btcpay-server-接続設定" class="header-anchor">#</a> セクション: BTCPay Server 接続設定</h3> <p>ここは設定の中で最も重要な部分です。ここに入力するデータにより、VirtueMart ショップと BTCPay Server 側の対応ストアが接続されます。</p> <p><strong>BTCPay Server URL</strong></p> <p>BTCPay Server インスタンスの URL（プロトコルを含む）。例: <code>https://btcpay.yourdomain.com</code>。</p> <p><strong>API Key</strong></p> <p><a href="#22-create-an-api-key-and-configure-permissions">こちら</a>で説明した BTCPay API Key。</p> <p><strong>Store ID</strong></p> <p>BTCPay Server ストアのストア ID。ストア設定ページで確認できます。<a href="#22-create-an-api-key-and-configure-permissions">こちら</a>の 8 を参照してください。</p> <p><strong>Webhook Secret</strong></p> <p>webhook 作成時に生成された secret。<a href="#23-create-a-webhook-on-btcpay-server">こちら</a>を参照。</p> <p><strong>Webhook callback URL</strong></p> <p>このフィールドはプラグインが自動生成します。BTCPay Server で webhook を作成する際に使用します。必要な決済方法 ID とパラメータを含み、コールバック処理を可能にします。</p> <h3 id="セクション-注文ステータスのマッピング"><a href="#セクション-注文ステータスのマッピング" class="header-anchor">#</a> セクション: 注文ステータスのマッピング</h3> <p>BTCPay Server の請求書ステータスと VirtueMart の注文ステータスの対応を調整できます。左側が請求書ステータス、右側が注文ステータスです。通常はデフォルト設定で問題ありませんが、必要に応じて上書きできます。</p> <p>VirtueMart の注文ステータスの説明は<a href="https://docs.virtuemart.net/manual/configuration-menu/order-statuses.html" target="_blank" rel="noopener noreferrer">こちら<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>BTCPay Server の請求書ステータスの説明は<a href="/Invoices/#invoice-statuses">こちら</a></p> <h3 id="セクション-制限"><a href="#セクション-制限" class="header-anchor">#</a> セクション: 制限</h3> <p>これらは VirtueMart が提供する、他の決済プラグインでも使われる制限設定です。決済方法を利用可能にする金額や国を制限できます。</p> <h3 id="セクション-割引と手数料"><a href="#セクション-割引と手数料" class="header-anchor">#</a> セクション: 割引と手数料</h3> <p>これらは VirtueMart が提供する設定です。手数料、キャッシュバック、税ルールの適用、または決済方法のカスタムロゴ設定が可能です。</p> <h2 id="トラブルシューティング"><a href="#トラブルシューティング" class="header-anchor">#</a> トラブルシューティング</h2> <h3 id="チェックアウト時のエラー「there-was-an-error-processing-the-payment-on-btcpay-server-please-try-again-and-contact-us-if-the-problem-persists」"><a href="#チェックアウト時のエラー「there-was-an-error-processing-the-payment-on-btcpay-server-please-try-again-and-contact-us-if-the-problem-persists」" class="header-anchor">#</a> チェックアウト時のエラー「There was an error processing the payment on BTCPay Server. Please try again and contact us if the problem persists.」</h3> <p>これは BTCPay Server での請求書作成中に何らかの問題が発生したことを意味します。API キー、Store ID の誤り、または通信エラーの可能性があります。プラグインのエラーログは <code>administrator/logs</code> ディレクトリにあります。<code>btcpayvm.X.log.php</code>（<code>X</code> は番号、例: <code>btcpayvm.0.log.php</code>）というファイルが 1 つ以上あり、時刻付きのエラーから原因の手がかりを得られます。</p> <p><strong>例</strong>:</p> <blockquote><p>2022-05-24 21:10:50 ERROR Error during POST to https://btcpay.example.com/api/v1/stores/4kD5bvAF5j8DokHqAzxb6MFDV4ikabcdefghijklm/invoices. Got response (401): {&quot;code&quot;:&quot;unauthenticated&quot;,&quot;message&quot;:&quot;Authentication is required for accessing this endpoint&quot;}</p></blockquote> <ul><li><p>これは認証エラーです。多くの場合、API キーにそのストアで請求書を作成する権限がありません。API キーに正しい権限を付与し、正しいストアに紐付け、VirtueMart の決済設定フォームにも正しく入力されていることを確認してください。</p></li> <li><p>別の原因として、レガシー API キーを使っている可能性があります。レガシー API キーは <code>store settings -&gt; Access Tokens</code> にありますが、必要なのは <code>Account -&gt; Manage Account -&gt; tab &quot;API Keys&quot;</code> にあるアカウント API キーです。セクション <a href="#22-create-an-api-key-and-configure-permissions">2.2 API キーを作成して権限を設定する</a> を参照してください。</p></li></ul> <h2 id="請求書が支払い済みなのに注文ステータスが更新されない"><a href="#請求書が支払い済みなのに注文ステータスが更新されない" class="header-anchor">#</a> 請求書が支払い済みなのに注文ステータスが更新されない</h2> <p>請求書詳細で webhook リクエスト送信時のエラーを確認してください。ホスティング事業者、ファイアウォール設定、または Joomla セキュリティプラグインにより、サイトへの POST リクエストがブロックされ、HTTP ステータス <code>403 forbidden</code> になることがあります。</p> <p>以下の 2 つの方法で、サイトへのリクエストがブロックされているか確認できます。</p> <p><strong>1. webhook callback URL をコピー</strong><br> <em>VirtueMart BTCPay Payment Method Settings</em> へ移動し、「Webhook callback URL」をコピーします。例: <code>https://EXAMPLE.COM/index.php?option=com_virtuemart&amp;view=pluginresponse&amp;task=pluginnotification&amp;pm=2</code></p> <figure><img src="/assets/img/btcpay-vm--18-troubleshoot-copy-callback-url.70d08e31.png" alt="BTCPay Joomla VirtueMart: Webhook payload URL" title="BTCPay Joomla VirtueMart: Webhook payload URL"></figure> <p><strong>2.1 コマンドライン（Linux または MacOS）で確認:</strong></p> <div class="language- extra-class"><pre class="language-text"><code>curl -vX POST -H &quot;Content-Type: application/json&quot; \
    -d '{&quot;data&quot;: &quot;test&quot;}' WEBHOOK_CALLBACK_URL
</code></pre></div><p>（<code>WEBHOOK_CALLBACK_URL</code> を上でコピーした URL に置き換えてください）</p> <p>結果:</p> <div class="language- extra-class"><pre class="language-text"><code>.... snip ....
* upload completely sent off: 16 out of 16 bytes
&lt; HTTP/1.1 403 Forbidden
&lt; access-control-allow-origin: *
&lt; Content-Type: application/json; charset=UTF-8
&lt; X-Cloud-Trace-Context: 4f07d5b2e5c2f05949d04421a8e2dd6a
&lt; Date: Thu, 17 Feb 2022 10:06:50 GMT
&lt; Server: Google Frontend
&lt; Content-Length: 26
</code></pre></div><p><code>HTTP/1.1 403 Forbidden</code> または <code>HTTP/2 403</code> が表示される場合、VirtueMart サイトへのデータ送信を何かがブロックしています。ホスティング事業者に確認するか、ファイアウォールやプラグインがリクエストをブロックしていないか確認してください。</p> <p><strong>2.2 オンラインサービスで確認（コマンドラインが使えない場合）:</strong></p> <ul><li><a href="https://reqbin.com/post-online" target="_blank" rel="noopener noreferrer">https://reqbin.com/post-online<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> にアクセス</li> <li><ol><li>callback URL（手順 1 でコピー）を入力: <code>https://EXAMPLE.COM/index.php?option=com_virtuemart&amp;view=pluginresponse&amp;task=pluginnotification&amp;pm=2</code><br>
（この URL を手順 1 の webhook callback URL に置き換えてください）</li></ol></li> <li>「POST」が選択されていることを確認</li> <li><ol start="2"><li>[Send] をクリック</li></ol></li></ul> <figure><img src="/assets/img/btcpay-vm--19-troubleshoot-403-callback.51193927.png" alt="BTCPay Joomla VirtueMart: Webhook payload URL forbidden" title="BTCPay Joomla VirtueMart: Webhook payload URL forbidden"></figure> <p><strong>Status 403 (Forbidden)</strong> と表示される場合、何らかの理由でサイトへの POST リクエストがブロックされています。ホスティング事業者に確認するか、ファイアウォールやプラグインがブロックしていないか確認してください。別のステータスコード（200、500 など）の場合、ファイアウォール問題ではない可能性が高く、さらに調査が必要です。</p> <h2 id="プラグインの利用で問題がある、またはその他の関連質問がある場合"><a href="#プラグインの利用で問題がある、またはその他の関連質問がある場合" class="header-anchor">#</a> プラグインの利用で問題がある、またはその他の関連質問がある場合</h2> <p>サポートや追加の質問が必要な場合は、<a href="https://chat.btcpayserver.org/" target="_blank" rel="noopener noreferrer">https://chat.btcpayserver.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> のサポートチャネルに参加してください。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/btcpayserver/btcpayserver-doc/edit/master/docs/VirtueMart.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="edit-link"><a href="https://github.com/btcpayserver/btcpayserver-doc/issues/new?title=Improve%20Joomla%20VirtueMart%20%E7%B5%B1%E5%90%88&amp;body=I%20could%20not%20find%20the%20information%20I%20was%20looking%20for%20on%20the%20%22Joomla%20VirtueMart%20%E7%B5%B1%E5%90%88%22%20page%20(%60%2FVirtueMart%2F%60).%0A%0A%5BPLEASE%20DESCRIBE%20HOW%20THE%20PAGE%20CAN%20BE%20IMPROVED%5D&amp;labels=question" target="_blank" rel="noopener noreferrer">Didn't find an answer?</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Smartstore/" class="prev">
        Smartstore
      </a></span> <span class="next"><a href="/Wix/">
        Wix
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.41d43a50.js" defer></script><script src="/assets/js/2.d89b9797.js" defer></script><script src="/assets/js/16.25059ae3.js" defer></script>
  </body>
</html>
