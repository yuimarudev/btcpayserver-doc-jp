(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{490:function(e,t,r){e.exports=r.p+"assets/img/ElectrumWallet1.584fbbe1.png"},491:function(e,t,r){e.exports=r.p+"assets/img/ElectrumWallet2.b93dd22b.png"},492:function(e,t,r){e.exports=r.p+"assets/img/ElectrumWallet3.9838bf5a.png"},493:function(e,t,r){e.exports=r.p+"assets/img/ElectrumWallet4.dec51a41.png"},494:function(e,t,r){e.exports=r.p+"assets/img/ElectrumWallet9.474b2e7a.png"},495:function(e,t,r){e.exports=r.p+"assets/img/ElectrumWallet10.6fd1db5f.png"},496:function(e,t,r){e.exports=r.p+"assets/img/btcpayWalletImport1.6c214d88.jpg"},497:function(e,t,r){e.exports=r.p+"assets/img/btcpayWalletImport2.d39a2fb0.jpg"},498:function(e,t,r){e.exports=r.p+"assets/img/btcpayWalletImport3.4ad4427f.jpg"},499:function(e,t,r){e.exports=r.p+"assets/img/SetupWalletXpub.195df229.png"},500:function(e,t,r){e.exports=r.p+"assets/img/ElectrumWallet11.9ea45c82.png"},501:function(e,t,r){e.exports=r.p+"assets/img/ElectrumWallet11a.05edcf6d.png"},502:function(e,t,r){e.exports=r.p+"assets/img/ElectrumWallet12.139c7796.png"},972:function(e,t,r){"use strict";r.r(t);var l=r(17),a=Object(l.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[t("span",{attrs:{id:"configuring-the-gap-limit-in-electrum"}})]),e._v(" "),t("h1",{attrs:{id:"electrumウォレットをbtcpay-serverに接続する"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#electrumウォレットをbtcpay-serverに接続する"}},[e._v("#")]),e._v(" ElectrumウォレットをBTCPay Serverに接続する")]),e._v(" "),t("p",[e._v("このドキュメントでは、"),t("strong",[e._v("デスクトップ版の"),t("a",{attrs:{href:"https://electrum.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Electrum Wallet"),t("OutboundLink")],1),e._v("をBTCPay Serverに接続する方法")]),e._v("を説明します。")]),e._v(" "),t("p",[t("strong",[e._v("注意:")]),e._v(" Electrumウォレットは、サードパーティが管理するElectrumサーバーに依存しています。公開アドレス、残高、取引金額などの情報が "),t("em",[e._v("漏洩する可能性")]),e._v(" があります。")]),e._v(" "),t("p",[e._v("このような漏洩から身を守るには、"),t("RouterLink",{attrs:{to:"/ElectrumX/"}},[e._v("ElectrumX Server")]),e._v(" または "),t("a",{attrs:{href:"https://github.com/chris-belcher/electrum-personal-server",target:"_blank",rel:"noopener noreferrer"}},[e._v("Electrum Personal Server - EPS"),t("OutboundLink")],1),e._v(" をセットアップしてください。")],1),e._v(" "),t("p",[e._v("EPS と ElectrumX の違いは"),t("a",{attrs:{href:"https://www.reddit.com/r/Electrum/comments/7xb0lz/whats_the_difference_between_electrumx_server_and/",target:"_blank",rel:"noopener noreferrer"}},[e._v("こちら"),t("OutboundLink")],1),e._v("で確認できます。")]),e._v(" "),t("ol",[t("li",[e._v("BTCPay Serverでストアを作成する")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://electrum.org/#download",target:"_blank",rel:"noopener noreferrer"}},[e._v("Electrum Wallet"),t("OutboundLink")],1),e._v("をダウンロードしてインストールする")])]),e._v(" "),t("h2",{attrs:{id:"electrumウォレットのセットアップ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#electrumウォレットのセットアップ"}},[e._v("#")]),e._v(" Electrumウォレットのセットアップ")]),e._v(" "),t("p",[e._v("インストール後、デスクトップ上のアイコンをクリックして "),t("strong",[e._v("Electrum Wallet")]),e._v(" を開きます。")]),e._v(" "),t("h3",{attrs:{id:"クイックセットアップ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#クイックセットアップ"}},[e._v("#")]),e._v(" クイックセットアップ")]),e._v(" "),t("p",[e._v("BTCPayでElectrumウォレットを設定する最も簡単な方法は、ウォレットのバックアップファイルをBTCPay Serverにインポートすることです。")]),e._v(" "),t("ol",[t("li",[e._v("新しいElectrumウォレットを作成する")]),e._v(" "),t("li",[e._v("Electrumで "),t("code",[e._v("File > Save Backup > Save in folder")]),e._v(" を選ぶ")]),e._v(" "),t("li",[e._v("BTCPay Serverで "),t("code",[e._v("Store > Settings > Setup > Import Wallet File > Choose File > Continue")]),e._v(" を選ぶ")]),e._v(" "),t("li",[e._v("Electrumの "),t("code",[e._v("Receive")]),e._v(" タブを開く")]),e._v(" "),t("li",[e._v("ElectrumとBTCPay Serverのアドレスを比較し、一致していることを確認する")]),e._v(" "),t("li",[e._v("BTCPayでアドレスの一致を確認する")])]),e._v(" "),t("h2",{attrs:{id:"ステップバイステップ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ステップバイステップ"}},[e._v("#")]),e._v(" ステップバイステップ")]),e._v(" "),t("p",[e._v("以下の手順では、Electrumでまったく新しい Bech32(SegWit) ウォレットを作成します。すでにウォレットをお持ちの場合は、Extended Public Key のコピー手順まで進んでください。")]),e._v(" "),t("p",[e._v("まず、ウォレット名を入力します。例: "),t("code",[e._v("BTCPay Server Wallet")]),e._v("。その後 "),t("code",[e._v("Next")]),e._v(" をクリックします。")]),e._v(" "),t("figure",[t("img",{attrs:{src:r(490),alt:"ElectrumWallet",title:"ElectrumWallet"}})]),e._v(" "),t("p",[t("code",[e._v("Standard wallet")]),e._v(" を選び、"),t("code",[e._v("Next")]),e._v(" ボタンをクリックして進みます。")]),e._v(" "),t("figure",[t("img",{attrs:{src:r(491),alt:"ElectrumWallet",title:"ElectrumWallet"}})]),e._v(" "),t("p",[e._v("今回は新規ウォレットを作成するため、"),t("code",[e._v("Create a new seed")]),e._v(" を選択して "),t("code",[e._v("Next")]),e._v(" をクリックします。")]),e._v(" "),t("figure",[t("img",{attrs:{src:r(492),alt:"ElectrumWallet",title:"ElectrumWallet"}})]),e._v(" "),t("p",[e._v("選択メニューで "),t("code",[e._v("SegWit")]),e._v(" を選び、"),t("code",[e._v("Next")]),e._v(" をクリックします。")]),e._v(" "),t("figure",[t("img",{attrs:{src:r(493),alt:"ElectrumWallet",title:"ElectrumWallet"}})]),e._v(" "),t("p",[t("strong",[e._v("重要:")]),e._v(" マーチャントの場合、SegWit (Bech32) ではなく SegWit wrapped (P2SH) 形式の利用を推奨します。"),t("a",{attrs:{href:"https://www.youtube.com/watch?v=-1DBJWwA2Cw",target:"_blank",rel:"noopener noreferrer"}},[e._v("このガイド"),t("OutboundLink")],1),e._v("では、顧客が使用するレガシーウォレットとの互換性の観点から、マーチャント向けのP2SHウォレット作成方法を説明しています。")]),e._v(" "),t("p",[t("strong",[e._v("重要 2:")]),e._v(" 画面に表示された順番どおりにリカバリーワードを書き留めてください。紙に書き、必ず安全な場所に保管してください。時間をかけて各単語を3回確認してください。シードをデジタル形式（写真、テキストファイルなど）で保存しないでください。シードにアクセスできる人はあなたの資金にもアクセスできます。同じ順番で再入力し、バックアップが正しくできていることを確認してください。シードの検証が完了したら次の手順に進みます。")]),e._v(" "),t("p",[e._v("Electrumでウォレット作成を完了するために、シード語を入力します。BTCPay Serverにインポートするにはウォレットが暗号化されていない必要があります。BTCPayでのセットアップ完了後、必要に応じてElectrum側で後からパスワード暗号化を設定できます。")]),e._v(" "),t("p",[e._v("BTCPay Serverへのインポート手順は以下の動画でも確認できます。")]),e._v(" "),t("a",{staticClass:"ytEmbed",staticStyle:{"background-image":"url(https://img.youtube.com/vi/kf3BHaQWSAc/hqdefault.jpg)"},attrs:{href:"https://www.youtube.com/watch?v=kf3BHaQWSAc",title:"BTCPay Server - How to import wallet file","data-id":"kf3BHaQWSAc"}},[t("iframe",{attrs:{title:"BTCPay Server - How to import wallet file","data-src":"https://www.youtube-nocookie.com/embed/kf3BHaQWSAc?&autoplay=1&autohide=1&modestbranding=1&color=white&rel=0",frameborder:"0",allow:"autoplay;encrypted-media;picture-in-picture",allowfullscreen:""}})]),e._v(" "),t("h3",{attrs:{id:"代替セットアップ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代替セットアップ"}},[e._v("#")]),e._v(" 代替セットアップ")]),e._v(" "),t("p",[e._v("ウォレットファイルをインポートする代わりに、公開鍵をBTCPay Serverへ転送する方法もあります。ウォレットが暗号化されており、復号したくない場合に便利です。")]),e._v(" "),t("ol",[t("li",[e._v("新しいElectrumウォレットを作成する")]),e._v(" "),t("li",[e._v("Electrumで "),t("code",[e._v("Wallet > Wallet Information")]),e._v(" を開き、"),t("strong",[e._v("Master Public Key")]),e._v(" をコピーする")]),e._v(" "),t("li",[e._v("BTCPay Serverで "),t("code",[e._v("Store > Settings > Setup > Connect an existing wallet > Enter extended public key")]),e._v(" を選ぶ")]),e._v(" "),t("li",[e._v("Electrumの "),t("code",[e._v("Receive")]),e._v(" タブを開く")]),e._v(" "),t("li",[e._v("ElectrumとBTCPay Serverのアドレスを比較し、一致していることを確認する")]),e._v(" "),t("li",[e._v("BTCPayでアドレスの一致を確認する")])]),e._v(" "),t("p",[e._v("ウォレットの読み込み後（数秒かかる場合があります）、上部メニューの "),t("code",[e._v("Wallet")]),e._v(" をクリックし、次に "),t("code",[e._v("Information")]),e._v(" をクリックします。")]),e._v(" "),t("figure",[t("img",{attrs:{src:r(494),alt:"ElectrumWallet",title:"ElectrumWallet"}})]),e._v(" "),t("p",[t("code",[e._v("Master Public Key")]),e._v(" を選択して"),t("strong",[e._v("コピー")]),e._v("します。これはBTCPayがアドレスを導出するための"),t("strong",[e._v("公開")]),e._v("鍵です。")]),e._v(" "),t("figure",[t("img",{attrs:{src:r(495),alt:"ElectrumWallet",title:"ElectrumWallet"}})]),e._v(" "),t("p",[e._v("BTCPay Serverに戻ります。左側メニューの "),t("code",[e._v("Bitcoin")]),e._v(" か、新しいダッシュボード上の "),t("code",[e._v("Set up a wallet")]),e._v(" をクリックします。")]),e._v(" "),t("figure",[t("img",{attrs:{src:r(496),alt:"ElectrumWallet",title:"ElectrumWallet"}})]),e._v(" "),t("p",[t("code",[e._v("Connect an existing wallet")]),e._v(" をクリックします。")]),e._v(" "),t("figure",[t("img",{attrs:{src:r(497),alt:"ElectrumWallet",title:"ElectrumWallet"}})]),e._v(" "),t("p",[e._v("次に "),t("code",[e._v("Enter extended public key")]),e._v(" をクリックして鍵をインポートします。")]),e._v(" "),t("figure",[t("img",{attrs:{src:r(498),alt:"ElectrumWallet",title:"ElectrumWallet"}})]),e._v(" "),t("p",[t("code",[e._v("Master Public Key")]),e._v(" を derivation scheme フィールドへそのまま貼り付け、他は追加しないでください。"),t("code",[e._v("Enabled")]),e._v(" チェックボックスがオンになっていることを確認して "),t("code",[e._v("Continue")]),e._v(" をクリックします。")]),e._v(" "),t("figure",[t("img",{attrs:{src:r(499),alt:"ElectrumWallet",title:"ElectrumWallet"}})]),e._v(" "),t("p",[t("strong",[e._v("Electrum Wallet")]),e._v(" に戻り、受取アドレスが表示される "),t("code",[e._v("Receive tab")]),e._v(" を開きます。")]),e._v(" "),t("p",[t("strong",[e._v("Electrum Walletで表示されるアドレスとBTCPay Serverに表示されるアドレスを比較してください")]),e._v("。一致していれば "),t("code",[e._v("continue")]),e._v(" します。一致しない場合は、"),t("code",[e._v("Master Public Key")]),e._v(" を正しく貼り付けているか再確認してください。")]),e._v(" "),t("figure",[t("img",{attrs:{src:r(500),alt:"ElectrumWallet",title:"ElectrumWallet"}})]),e._v(" "),t("h3",{attrs:{id:"electrumでgap-limitを設定する"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#electrumでgap-limitを設定する"}},[e._v("#")]),e._v(" ElectrumでGap Limitを設定する")]),e._v(" "),t("p",[e._v("上部メニューで "),t("code",[e._v("View")]),e._v(" をクリックし、次に "),t("code",[e._v("Show Console")]),e._v(" をクリックします。")]),e._v(" "),t("figure",[t("img",{attrs:{src:r(501),alt:"ElectrumWallet",title:"ElectrumWallet"}})]),e._v(" "),t("p",[e._v("Electrumのコンソールで次のコマンドを入力し、キーボードの "),t("code",[e._v("enter")]),e._v(" を押します。")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(" wallet.change_gap_limit(100)\n")])])]),t("p",[e._v("Electrum 4より古いバージョンを使用している場合は、次のコマンドも入力して "),t("code",[e._v("enter")]),e._v(" を押してください。")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("wallet.storage.write()\n")])])]),t("figure",[t("img",{attrs:{src:r(502),alt:"ElectrumWallet",title:"ElectrumWallet"}})]),e._v(" "),t("p",[e._v("Electrumを再起動し、コンソールで次を入力して新しい gap limit が正しく設定されていることを確認します。")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("wallet.gap_limit\n")])])]),t("p",[e._v("gap limit をいくつに設定すべきかに絶対的な正解はありません。多くのマーチャントは 100-200 を設定します。取引量が多い大規模マーチャントであれば、さらに高い値を試すこともできます。")]),e._v(" "),t("p",[t("RouterLink",{attrs:{to:"/FAQ/Wallet/#missing-payments-in-my-software-or-hardware-wallet"}},[e._v("Gap Limitの詳細はFAQ")]),e._v("を確認してください。")],1),e._v(" "),t("p",[t("strong",[e._v("これでElectrumとBTCPay Serverの接続は完了です")]),e._v("。BTCPayで受け取った支払いはElectrumに表示され、そこから支出できます。")])])}),[],!1,null,null,null);t.default=a.exports}}]);