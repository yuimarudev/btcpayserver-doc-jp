(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{431:function(o,e,l){o.exports=l.p+"assets/img/gcloud-yaml.e5e65164.png"},926:function(o,e,l){"use strict";l.r(e);var t=l(17),r=Object(t.a)({},(function(){var o=this,e=o._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[e("h1",{attrs:{id:"google-cloud-デプロイ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#google-cloud-デプロイ"}},[o._v("#")]),o._v(" Google Cloud デプロイ")]),o._v(" "),e("p",[o._v("このセットアップは "),e("RouterLink",{attrs:{to:"/Docker/"}},[o._v("Docker Deployment")]),o._v(" とほぼ同じですが、"),e("code",[o._v("docker-compose")]),o._v(" を "),e("strong",[o._v("Google Cloud")]),o._v(" 上でホストする点が異なります。")],1),o._v(" "),e("h2",{attrs:{id:"google-cloud-shell-セットアップ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#google-cloud-shell-セットアップ"}},[o._v("#")]),o._v(" Google Cloud shell セットアップ")]),o._v(" "),e("p",[o._v("Google Cloud は BTCPayServer をセットアップするための別の方法です。")]),o._v(" "),e("p",[o._v("まず、次のボタンをクリックしてください。")]),o._v(" "),e("figure",[e("a",{attrs:{href:"https://console.cloud.google.com/cloudshell/open?git_repo=https%3A%2F%2Fgithub.com%2Fbtcpayserver%2Fbtcpayserver-googlecloud&page=editor",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://gstatic.com/cloudssh/images/open-btn.svg",alt:"Open in Cloud Shell",title:"Open in Cloud Shell"}}),e("OutboundLink")],1)]),o._v(" "),e("p",[o._v("Google アカウントで "),e("a",{attrs:{href:"https://console.cloud.google.com",target:"_blank",rel:"noopener noreferrer"}},[o._v("Google Cloud Console"),e("OutboundLink")],1),o._v(" にログインできます。")]),o._v(" "),e("p",[o._v("インストールの最終手順:")]),o._v(" "),e("ul",[e("li",[o._v("Google cloud shell で、インスタンスをデプロイするデフォルトの project と zone を設定する")]),o._v(" "),e("li",[o._v("yaml ファイルを変更して VM インスタンスと BTCPay server を設定する: "),e("img",{attrs:{src:l(431),alt:"GCE and BTCPay Config",title:"GCE and BTCPay Config"}})]),o._v(" "),e("li",[o._v("シェルスクリプトのモードを 755 に変更し、"),e("code",[o._v("deploy.sh <any deployname>")]),o._v(" を実行してデプロイを開始する")]),o._v(" "),e("li",[o._v("（Google Cloud のデプロイが完了するまで1分ほど待つ）")]),o._v(" "),e("li",[o._v("Google cloud shell に固定 IP が表示される")]),o._v(" "),e("li",[o._v("DNS サービスでドメイン名（例: EXAMPLE.MYSITE.com）にマッピングする")]),o._v(" "),e("li",[o._v("Google cloud console の VM instances 一覧から vm に ssh する")]),o._v(" "),e("li",[o._v("ssh 後、"),e("code",[o._v("/btcpayserver-docker")]),o._v(" ディレクトリへ移動して "),e("code",[o._v("changedomain.sh EXAMPLE.MYSITE.com")]),o._v(" を実行する")]),o._v(" "),e("li",[o._v("ブラウザで https://EXAMPLE.MYSITE.com にアクセスする")]),o._v(" "),e("li",[e("code",[o._v("Register")]),o._v(" をクリックしてアカウントを作成する（これが "),e("strong",[o._v("admin")]),o._v(" アカウントになります）")]),o._v(" "),e("li",[e("strong",[o._v("完了!")]),o._v(" "),e("code",[o._v("https://EXAMPLE.MYSITE.com/stores")]),o._v(" にアクセスしてストアを作成し、請求を開始してください。")])]),o._v(" "),e("p",[o._v("上級ユーザーは "),e("code",[o._v("https://EXAMPLE.MYSITE.com/server/services/ssh")]),o._v(" の情報を使って SSH 接続し、次を実行できます。")]),o._v(" "),e("ul",[e("li",[e("code",[o._v("docker ps")]),o._v(" と "),e("code",[o._v("docker logs xxx")]),o._v(" で実行中プロセスを確認する")]),o._v(" "),e("li",[e("code",[o._v("btcpay-down.sh")]),o._v(" と "),e("code",[o._v("btcpay-up.sh")]),o._v(" で BTCPayServer を停止・起動する")])]),o._v(" "),e("p",[o._v("概算コスト: "),e("strong",[o._v("月額 70 USD")])]),o._v(" "),e("p",[o._v("詳細: "),e("a",{attrs:{href:"https://github.com/btcpayserver/btcpayserver-googlecloud",target:"_blank",rel:"noopener noreferrer"}},[o._v("btcpayserver/btcpayserver-googlecloud"),e("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=r.exports}}]);