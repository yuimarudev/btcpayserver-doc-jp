(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{1014:function(e,t,a){"use strict";a.r(t);var v=a(17),s=Object(v.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"払い出し-payouts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#払い出し-payouts"}},[e._v("#")]),e._v(" 払い出し (Payouts)")]),e._v(" "),t("p",[e._v("払い出し機能は "),t("RouterLink",{attrs:{to:"/PullPayments/"}},[e._v("Pull Payments")]),e._v(" と連動しています。この機能を使うと、BTCPay 内で払い出しを作成できます。\nこの機能により、pull payment（返金、給与払い出し、出金）を処理できます。")],1),e._v(" "),t("h2",{attrs:{id:"どのように動作しますか？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#どのように動作しますか？"}},[e._v("#")]),e._v(" どのように動作しますか？")]),e._v(" "),t("p",[e._v("ここでは 2 つの例を見ていきます。1 つは返金、もう 1 つは給与払い出しです。")]),e._v(" "),t("h3",{attrs:{id:"例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#例"}},[e._v("#")]),e._v(" 例")]),e._v(" "),t("p",[e._v("まず返金の例から始めます。\n顧客があなたのストアで商品を購入したものの、残念ながら返品することになり、返金を希望しているとします。\nBTCPay では "),t("RouterLink",{attrs:{to:"/Refund/"}},[e._v("Refund")]),e._v(" を作成し、顧客に資金受け取り用リンクを提供できます。\n顧客がアドレスを入力して資金を請求すると、その内容が "),t("code",[e._v("Payouts")]),e._v(" に表示されます。")],1),e._v(" "),t("p",[e._v("最初のステータスは "),t("code",[e._v("Awaiting Approval")]),e._v(" です。\nストア担当者は待機中の項目を確認し、選択後に "),t("code",[e._v("Actions")]),e._v(" ボタンを使用します。")]),e._v(" "),t("p",[t("code",[e._v("Actions")]),e._v(" ボタンのオプション")]),e._v(" "),t("ul",[t("li",[e._v("選択した払い出しを承認 ("),t("code",[e._v("Approve selected payouts")]),e._v(")")]),e._v(" "),t("li",[e._v("選択した払い出しを承認して送信 ("),t("code",[e._v("Approve & send selected payouts")]),e._v(")")]),e._v(" "),t("li",[e._v("選択した払い出しをキャンセル ("),t("code",[e._v("Cancel selected payouts")]),e._v(")")])]),e._v(" "),t("p",[e._v("返金したいので、次の手順は "),t("code",[e._v("Approve & send selected payouts")]),e._v(" です。\n顧客アドレス、金額、手数料を返金額から差し引くかどうかを確認します。\n確認が終われば、残る作業はトランザクションへの署名だけです。")]),e._v(" "),t("p",[e._v("顧客側の Claiming ページも更新されます。ブロックエクスプローラーへのリンクと取引情報が表示されるため、トランザクションを追跡できます。\nトランザクションが承認されると、ステータスは Completed に変わります。")]),e._v(" "),t("p",[e._v("次に給与払い出しの例です。これは顧客リクエスト起点ではなく、ストア内部から開始します。\n基本は同じで Pull payments を利用します。ただし返金を作成する代わりに "),t("RouterLink",{attrs:{to:"/PullPayments/"}},[e._v("Pull Payment")]),e._v(" を作成します。")],1),e._v(" "),t("p",[e._v("BTCPay Server の "),t("code",[e._v("Pull Payments")]),e._v(" タブに移動します。\n右上の "),t("code",[e._v("Create Pull Payment")]),e._v(" ボタンをクリックします。")]),e._v(" "),t("p",[e._v("払い出し作成画面で、名前、希望金額、希望通貨を入力し、説明を記入します。これで従業員は内容を把握できます。\n次の部分は返金と同様です。従業員は送金先アドレスと、この払い出しから請求したい金額を入力します。2 回に分けて別アドレスに請求したり、一部を Lightning で請求したりすることもできます。")]),e._v(" "),t("p",[e._v("待機中の Payouts が複数ある場合は、まとめて署名・送信できます。署名後、払い出しは "),t("code",[e._v("In progress")]),e._v(" タブに移動し、トランザクションが表示されます。\nネットワークに受理されると、払い出しは Completed タブへ移動します。\nCompleted タブは履歴目的です。処理済み Payouts と、それに対応するトランザクションが保存されます。")]),e._v(" "),t("figure",[t("img",{attrs:{src:a(670),alt:"BTCPay Server の Payouts タブ",title:"BTCPay Server の Payouts タブ"}})]),e._v(" "),t("h2",{attrs:{id:"greenfield-api-の利用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#greenfield-api-の利用"}},[e._v("#")]),e._v(" Greenfield API の利用")]),e._v(" "),t("p",[t("RouterLink",{attrs:{to:"/PullPayments/#greenfield-api"}},[e._v("Pull Payments")]),e._v(" で説明されているように、Greenfield API を使うと "),t("code",[e._v("Pull Payments")]),e._v(" をより広く活用できます。\nこの仕組みを使うと、払い出しリクエストは常に BTCPay Server の Payouts タブに表示されます。\nGreenfield API を使えば、これらのリクエストを自動化できます。将来の BTCPay Server リリースでは、払い出し自動化オプションが追加される可能性があります。")],1)])}),[],!1,null,null,null);t.default=s.exports},670:function(e,t,a){e.exports=a.p+"assets/img/batch-payouts.75d71d03.jpg"}}]);