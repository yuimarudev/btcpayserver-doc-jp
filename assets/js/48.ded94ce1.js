(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1008:function(a,t,e){"use strict";e.r(t);var i=e(17),r=Object(i.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"btcpay-server-payjoin-ガイド"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#btcpay-server-payjoin-ガイド"}},[a._v("#")]),a._v(" BTCPay Server Payjoin ガイド")]),a._v(" "),t("p",[a._v("このドキュメントでは、BTCPay Server の "),t("strong",[a._v("Payjoin")]),a._v(" 機能の使い方を説明します。payjoin の実装に関する詳細で技術的な説明は "),t("a",{attrs:{href:"https://github.com/bitcoin/bips/blob/master/bip-0078.mediawiki",target:"_blank",rel:"noopener noreferrer"}},[a._v("BIP78"),t("OutboundLink")],1),a._v(" を参照してください。")]),a._v(" "),t("p",[a._v("以下の動画で、payjoin の概要と使い方を理解できます。")]),a._v(" "),t("a",{staticClass:"ytEmbed",staticStyle:{"background-image":"url(https://img.youtube.com/vi/-Wrqv6nSmAM/hqdefault.jpg)"},attrs:{href:"https://www.youtube.com/watch?v=-Wrqv6nSmAM",title:"BTCPay Server で Payjoin を使う方法","data-id":"-Wrqv6nSmAM"}},[t("iframe",{attrs:{title:"BTCPay Server で Payjoin を使う方法","data-src":"https://www.youtube-nocookie.com/embed/-Wrqv6nSmAM?&autoplay=1&autohide=1&modestbranding=1&color=white&rel=0",frameborder:"0",allow:"autoplay;encrypted-media;picture-in-picture",allowfullscreen:""}})]),a._v(" "),t("h2",{attrs:{id:"加盟店として-payjoin-を有効にする"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加盟店として-payjoin-を有効にする"}},[a._v("#")]),a._v(" 加盟店として Payjoin を有効にする")]),a._v(" "),t("ol",[t("li",[a._v("ストアを作成する")]),a._v(" "),t("li",[a._v("派生スキーム用の "),t("RouterLink",{attrs:{to:"/CreateWallet/#hot-wallet"}},[a._v("hot wallet")]),a._v(" を設定します。アドレスタイプは segwit または segwit wrapped を使用してください。")],1),a._v(" "),t("li",[a._v("「General Settings」で Payjoin/P2EP を有効化し、「Save」をクリックします")])]),a._v(" "),t("p",[a._v("Payjoin を機能させるには、少なくとも 1 つの UTXO が必要である点に注意してください。")]),a._v(" "),t("figure",[t("img",{attrs:{src:e(644),alt:"BTCPay Server で PayJoin を受け取る",title:"BTCPay Server で PayJoin を受け取る"}})]),a._v(" "),t("figure",[t("img",{attrs:{src:e(645),alt:"BTCPay Server で PayJoin を受け取る",title:"BTCPay Server で PayJoin を受け取る"}})]),a._v(" "),t("figure",[t("img",{attrs:{src:e(646),alt:"BTCPay Server で PayJoin を受け取る",title:"BTCPay Server で PayJoin を受け取る"}})]),a._v(" "),t("h2",{attrs:{id:"ユーザーとして-payjoin-で支払う"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ユーザーとして-payjoin-で支払う"}},[a._v("#")]),a._v(" ユーザーとして Payjoin で支払う")]),a._v(" "),t("p",[t("RouterLink",{attrs:{to:"/Wallet/"}},[a._v("BTCPay Wallet")]),a._v(" は Payjoin に対応しています。")],1),a._v(" "),t("ol",[t("li",[a._v("Payjoin が有効な BTCPay Server 請求書から BIP21 支払いリンクを取得します。方法は次のいずれかです:\n"),t("ul",[t("li",[a._v("カメラスキャン機能で QR コードを読み取る")]),a._v(" "),t("li",[a._v("「Open in wallet」ボタンからリンクをコピーし、「Parse BIP21」プロンプトに貼り付ける")])])]),a._v(" "),t("li",[a._v("送金フォームに支払い情報が自動入力されるはずです。請求書が payjoin に対応しているかは、「advanced settings」を展開し、URL が入った「Payjoin endpoint」入力欄があるかで確認できます。")]),a._v(" "),t("li",[t("RouterLink",{attrs:{to:"/HardwareWalletIntegration/"}},[a._v("BTCPay Vault")]),a._v(" 経由の BTCPay Server ハードウェアウォレット対応、または "),t("RouterLink",{attrs:{to:"/CreateWallet/#hot-wallet"}},[a._v("hot wallet")]),a._v(" 機能を使ってトランザクションに署名します。")],1),a._v(" "),t("li",[a._v("元のトランザクションの準備ができると、"),t("code",[a._v("Broadcast (Payjoin)")]),a._v(" または "),t("code",[a._v("Broadcast (Simple)")]),a._v(" を選べます。"),t("code",[a._v("Broadcast (Payjoin)")]),a._v(" を選択してください。")]),a._v(" "),t("li",[a._v("可能な場合、payjoin サーバーが新しい特別なトランザクションを提案します。payjoin を実行できない場合は、代わりに元のトランザクションがブロードキャストされます。")]),a._v(" "),t("li",[a._v("ハードウェアウォレットを使用している場合は、payjoin トランザクションへの再署名を求められます（hot wallet 機能では自動署名されます）。")]),a._v(" "),t("li",[a._v("これで、Bitcoin の代替可能性と金融主権の向上に貢献できました。")])]),a._v(" "),t("figure",[t("img",{attrs:{src:e(647),alt:"BTCPay Server で PayJoin を受け取る",title:"BTCPay Server で PayJoin を受け取る"}})]),a._v(" "),t("figure",[t("img",{attrs:{src:e(648),alt:"BTCPay Server で PayJoin を受け取る",title:"BTCPay Server で PayJoin を受け取る"}})]),a._v(" "),t("figure",[t("img",{attrs:{src:e(649),alt:"BTCPay Server で PayJoin を受け取る",title:"BTCPay Server で PayJoin を受け取る"}})]),a._v(" "),t("figure",[t("img",{attrs:{src:e(650),alt:"BTCPay Server で PayJoin を受け取る",title:"BTCPay Server で PayJoin を受け取る"}})]),a._v(" "),t("h2",{attrs:{id:"なぜ-payjoin-が発生しなかったのですか？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#なぜ-payjoin-が発生しなかったのですか？"}},[a._v("#")]),a._v(" なぜ payjoin が発生しなかったのですか？")]),a._v(" "),t("p",[a._v("理由はいくつかあります:")]),a._v(" "),t("ul",[t("li",[a._v("ストア側に payjoin に使える utxos がなかった")]),a._v(" "),t("li",[a._v("あなたのウォレットがストアと同じフォーマットを使っていない（分析企業に疑いを持たれにくくするために重要）")]),a._v(" "),t("li",[a._v("segwit または p2sh wrapped segwit を使っていない")]),a._v(" "),t("li",[a._v("payjoin サーバーが利用できない")])]),a._v(" "),t("h2",{attrs:{id:"対応ウォレット"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#対応ウォレット"}},[a._v("#")]),a._v(" 対応ウォレット")]),a._v(" "),t("p",[a._v("対応追加をウォレット開発者に依頼し、後押ししてください。"),t("strong",[a._v("payjoin の利用")]),a._v(" が広がるほど、ブロックチェーン分析企業のヒューリスティクスは崩れ、金融履歴の追跡は難しくなります。ウォレット開発者の方で、支援やフィードバックが必要な場合は "),t("RouterLink",{attrs:{to:"/Community/"}},[a._v("contact us")]),a._v(" からご連絡ください。")],1)])}),[],!1,null,null,null);t.default=r.exports},644:function(a,t,e){a.exports=e.p+"assets/img/Payjoin_Guide_Receive_1.9b34f175.png"},645:function(a,t,e){a.exports=e.p+"assets/img/Payjoin_Guide_Receive_2.46633674.png"},646:function(a,t,e){a.exports=e.p+"assets/img/Payjoin_Guide_Receive_3.9eede34c.png"},647:function(a,t,e){a.exports=e.p+"assets/img/Payjoin_Guide_Pay_1.b4dc6b43.png"},648:function(a,t,e){a.exports=e.p+"assets/img/Payjoin_Guide_Pay_2.8a0a51a4.png"},649:function(a,t,e){a.exports=e.p+"assets/img/Payjoin_Guide_Pay_3.6dc7c8c0.png"},650:function(a,t,e){a.exports=e.p+"assets/img/Payjoin_Guide_Pay_4.5608332a.png"}}]);